<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Bancodoc - Talentos</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='128' height='128'><text y='1em' font-size='90'>ðŸ“Š</text></svg>">
  <!-- ... SEU CSS/HEAD ATUAL ... -->
</head>
<body>
  <!-- ... SEU CONTEÃšDO ATUAL DA FERRAMENTA BDOC ... -->

  <div id="userbar" style="display:none;position:fixed;left:10px;top:10px;background:#0b3bda;color:#fff;padding:6px 10px;border-radius:999px;z-index:9999;">
    <span id="uemail"></span>
    <button id="logout" style="margin-left:8px;background:#fff;color:#0b3bda;border:0;border-radius:999px;padding:4px 8px;cursor:pointer">Sair</button>
  </div>

  <!-- Firebase + Guard -->
  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-auth-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "SUA_API_KEY",
      authDomain: "talentosbd-e4206.firebaseapp.com",
      projectId: "talentosbd-e4206",
      appId: "SEU_APP_ID"
    };
    firebase.initializeApp(firebaseConfig);

    const ORG_DOMAIN = "talentosconsultoria.com.br";
    const LOGIN_PAGE = "login.html";

    function pageName(){ return location.pathname.split('/').pop() || "format-bancodoc.html"; }
    function goLogin(reason){
      const ret = encodeURIComponent(pageName());
      location.replace(`${LOGIN_PAGE}?return=${ret}${reason?`&reason=${reason}`:''}`);
    }

    firebase.auth().onAuthStateChanged(async (user)=>{
      if(!user){ goLogin("no-session"); return; }
      const em = (user.email||"").toLowerCase();
      if(!em.endsWith(`@${ORG_DOMAIN}`)){
        await firebase.auth().signOut();
        goLogin("wrong-domain");
        return;
      }
      document.getElementById("uemail").textContent = em;
      document.getElementById("userbar").style.display = "inline-flex";
    });

    document.getElementById("logout").addEventListener("click", async ()=>{
      await firebase.auth().signOut();
      goLogin("logout");
    });
  </script>
</body>
</html>
