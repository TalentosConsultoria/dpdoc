
<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Acesso Talentos</title>
  <style>
    body { font-family: 'Inter', sans-serif; }
    .btn { padding: 10px 20px; background-color: #2563eb; color: #fff; border: none; border-radius: 10px; cursor: pointer; }
  </style>
</head>
<body>
  <h1>Autenticação</h1>
  <button id="loginButton" class="btn">Entrar com Microsoft</button>

  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-auth-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyD55b7K0uWbyPvgm5p1nD1lgpCyqE9Zt5I", 
      authDomain: "talentosbd-e4206.firebaseapp.com",
      projectId: "talentosbd-e4206",
      storageBucket: "talentosbd-e4206.appspot.com",
      messagingSenderId: "523777669306",
      appId: "1:523777669306:web:f71776b8f77b8884f7777c"
    };
    firebase.initializeApp(firebaseConfig);
    const fbAuth = firebase.auth();
    const provider = new firebase.auth.OAuthProvider('microsoft.com');
    provider.setCustomParameters({ tenant: "cba0be9f-94ad-4a26-b291-fa90af7491ee" });
    fbAuth.setPersistence(firebase.auth.Auth.Persistence.LOCAL);

    const loginButton = document.getElementById('loginButton');
    loginButton.addEventListener('click', function() {
      fbAuth.signInWithRedirect(provider).then(() => {
        const returnUrl = new URLSearchParams(window.location.search).get('return') || 'index.html';
        window.location.replace(returnUrl);
      }).catch((error) => {
        console.error("Erro ao iniciar o login:", error);
      });
    });
  </script>
</body>
</html>
